(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,n){},113:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(54),i=n.n(c),l=n(20),s=n(55),o=n(8),u=n(61),d=n(56),p=n(62);n(69),n(104);var h=function(e){return r.a.createElement("section",{className:"recipes-container"},e.recipes.map(function(e,t){return r.a.createElement("div",{key:t,className:"recipes-el"},r.a.createElement("img",{src:e.thumbnail,alt:""}),r.a.createElement("h3",null,e.title),r.a.createElement("ul",{"data-simplebar":!0},r.a.createElement("span",null,"Ingredients:"),e.ingredients.split(", ").map(function(e,t){return r.a.createElement("li",{key:t},"# ",e)})),r.a.createElement("a",{href:e.href,rel:"noopener noreferrer",target:"_blank"},"Read more"))}))};var m=function(e){return r.a.createElement("ul",{className:"added-list"},e.list.map(function(t,n){return r.a.createElement("li",{onClick:function(t){e.delete(t,n)},key:n},"# ",t)}))},f=n(59),g=n.n(f);var E=function(e){var t=e.click,n=e.submit,a=e.change,c=e.inputVal,i=e.data;return r.a.createElement("form",{onSubmit:n},r.a.createElement("label",null,r.a.createElement("input",{onChange:a,type:"text",value:c,list:"data",placeholder:"Choose product"})),r.a.createElement("button",{className:"add-btn",onClick:t},r.a.createElement(g.a,null)),r.a.createElement("button",{className:"search-btn",type:"submit"},"SEARCH"),r.a.createElement("datalist",{id:"data"},i.map(function(e,t){return r.a.createElement("option",{key:t,value:e})})))};var b=function(){return r.a.createElement("h1",{className:"loader"},"Cooking in progress...")};var v=function(){return r.a.createElement("header",{className:"app-header"},r.a.createElement("h1",{className:"title-header"},"Find Your Recipe!"))},k=(n(111),"https://cors-anywhere.herokuapp.com/"),w="http://www.recipepuppy.com/api/?i=",C=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],ingredients:[],inputVal:"",addedIngredient:[],recipesToShow:[],recipesLoaded:!0,onHover:!1},n.searchForRecipes=function(e){fetch(e).then(function(e){return e.json()}).then(function(e){n.setState({recipesToShow:e.results,inputVal:"",recipesLoaded:!0})}).catch(function(){return console.log("Can\u2019t access "+e+" response. Blocked by browser?")})},n.handleOnChange=function(e){n.setState({inputVal:e.target.value})},n.handleOnClick=function(e){if(e.preventDefault(),n.state.inputVal.length<=0)return null;var t=n.state.addedIngredient;t.push(n.state.inputVal),n.setState({inputVal:"",addedIngredient:t})},n.deleteClick=function(e,t){e.preventDefault(),n.setState({addedIngredient:n.state.addedIngredient.filter(function(e,n){return n!==t})})},n.handleOnSubmit=function(e){if(e.preventDefault(),n.state.addedIngredient.length<1)return alert("You have to choose at least one ingredient"),null;n.setState({recipesLoaded:!1,addedIngredient:[]});var t=n.state.addedIngredient.join(",").replace("[^a-zA-Z0-9]","").toLowerCase();n.searchForRecipes(k+w+t)},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(k+w).then(function(e){return e.json()}).then(function(t){var n=t.results.map(function(e){return e.ingredients.split(", ")}).reduce(function(e,t){return[].concat(Object(l.a)(e),Object(l.a)(t))});e.setState({data:t.results,ingredients:Object(l.a)(new Set(n)).sort(),pageLoaded:!0})}).catch(function(){return console.log("Can\u2019t access "+w+" response. Blocked by browser?")})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,null),r.a.createElement("section",{className:"search-engine"},r.a.createElement(E,{click:this.handleOnClick,change:this.handleOnChange,data:this.state.ingredients,submit:this.handleOnSubmit,inputVal:this.state.inputVal}),r.a.createElement(m,{delete:this.deleteClick,list:this.state.addedIngredient})),this.state.recipesLoaded?r.a.createElement(h,{recipes:this.state.recipesToShow}):r.a.createElement(b,null))}}]),t}(a.Component);i.a.render(r.a.createElement(C,null),document.getElementById("root"))},64:function(e,t,n){e.exports=n(113)}},[[64,1,2]]]);
//# sourceMappingURL=main.47c70dc2.chunk.js.map